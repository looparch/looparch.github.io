{"version":3,"sources":["webpack://loop-gatsby/./src/components/SEOProduct/generateMarkdownProductJSONLD.js","webpack://loop-gatsby/./src/templates/product-template.js"],"names":["generateMarkdownProductJSONLD","product","manufacturer","siteMetadata","name","frontmatter","title","image","siteUrl","getSrc","image_primary","childImageSharp","gatsbyImageData","description","unescape","sku","id","mpn","review","reviewRating","ratingValue","bestRating","author","publisher","url","aggregateRating","reviewCount","brand","logo","logoImageDark","offers","price","priceCurrency","priceValidUntil","availability","slug","ProductTemplate","props","data","markdownRemark","contentfulManufacturer","site","tagList","tags","map","tag","className","key","jsonLD","render","this","jsonLd","productSEO","pagePath","postNode","location","type","JSON","stringify","style","marginBottom","marginTop","subtitle","designer","G","alt","image_secondary","href","target","rel","React"],"mappings":"6KAIe,SAASA,EACtBC,EACAC,EACAC,GAEA,MAAO,CACL,WAAY,oBACZ,QAAS,UACTC,KAAMH,EAAQI,YAAYC,MAC1BC,MAAO,CAAC,GACHJ,EAAaK,SAAUC,OACxBR,EAAQI,YAAYK,cAAcC,gBAAgBC,kBAGtDC,YAAY,IACVC,SAASb,EAAQI,YAAYQ,cAC1BZ,EAAQI,YAAYH,aADvB,MACyCD,EAAQI,YAAYC,OAC7D,IAEFS,IAAI,GAAId,EAAQe,GAChBC,IAAI,GAAIhB,EAAQe,GAChBE,OAAQ,CACN,QAAS,SACTC,aAAc,CACZ,QAAS,SACTC,YAAa,IACbC,WAAY,KAEdC,OAAQ,CACN,QAAS,SACTlB,KAAMD,EAAaoB,UACnBC,IAAKrB,EAAaK,UAGtBiB,gBAAiB,CACf,QAAS,kBACTL,YAAa,IACbM,YAAa,KAEfC,MAAO,CACL,QAAS,QACTvB,KAAMF,EAAaI,MACnBsB,KAAK,UAAUnB,OAAOP,EAAa2B,cAAcjB,kBAEnDkB,OAAQ,CACN,QAAS,QACTC,MAAO,OACPC,cAAe,MACfC,gBAAiB,aACjBC,aAAc,UACdV,IAAI,GAAIrB,EAAaK,QAAUP,EAAQI,YAAY8B,S,mHC7CnDC,E,YACJ,WAAYC,GAAQ,IAAD,EACjB,cAAMA,IAAN,KADiB,MAEwCA,EAAMC,KAAvDC,EAFS,EAETA,eAAgBC,EAFP,EAEOA,uBAAwBC,EAF/B,EAE+BA,KACxCpC,EAAgBkC,EAAhBlC,YAHS,OAKjB,EAAKqC,QAAUrC,EAAYsC,KAAKC,KAAI,SAACC,EAAK7B,GAAN,OAClC,sBAAI8B,UAAU,MAAMC,IAAK/B,GACtB6B,MAGL,EAAKG,QAAShD,OACZuC,EACAC,EACAC,EAAKtC,cAbU,E,+BAiBnB8C,OAAA,WACE,IAAM5C,EAAc6C,KAAKb,MAAMC,KAAKC,eAAelC,YAC7CoC,EAAOS,KAAKb,MAAMC,KAAKG,KACvBvC,EAAegD,KAAKb,MAAMC,KAAKE,uBAC/BE,EAAUQ,KAAKR,QACfS,EAASD,KAAKF,OAEpB,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CACE1C,MAAUD,EAAYH,aAAjB,IAAiCG,EAAYC,MAA7C,MAAwDmC,EAAKtC,aAAaG,QAEjF,gBAAC,IAAD,CACE8C,YAAU,EACVC,SAAQ,iBAAmBnD,EAAaiC,KACxChC,aAAcsC,EAAKtC,aACnBmD,SAAUpD,EACVqD,SAAUL,KAAKb,MAAMkB,SACrBtD,QAASI,IAEX,gBAAC,IAAD,KACE,0BAAQmD,KAAK,uBAAuBC,KAAKC,UAAUP,KAErD,uBAAKL,UAAU,2BACb,uBAAKA,UAAU,WACb,uBAAKA,UAAU,aACb,uBAAKA,UAAU,WACb,sBACEA,UAAU,mCACVa,MAAO,CAAEC,aAAc,IAEtBvD,EAAYH,aAJf,MAIgCG,EAAYC,OAE5C,sBACEwC,UAAU,mDACVa,MAAO,CAAEE,UAAW,IAEnBxD,EAAYyD,SACa,SAAzBzD,EAAY0D,UACX,mCAAW1D,EAAY0D,WAI3B,gBAAC,EAAAC,EAAD,CACEzD,MACEF,EAAYK,cAAcC,gBAAgBC,gBAE5CqD,IAAQ5D,EAAYC,MAAjB,aAGJD,EAAY6D,iBACX,gBAAC,EAAAF,EAAD,CACEzD,MACEF,EAAY6D,gBAAgBvD,gBACzBC,gBAELqD,IAAQ5D,EAAYC,MAAjB,aAIsB,SAA5BD,EAAYQ,aACX,yBAAIC,SAASA,SAAST,EAAYQ,gBAGtC,qBAAGiC,UAAU,mBAAmBa,MAAO,CAAEC,aAAc,SACrD,qBACEO,KAAM9D,EAAY8D,KAClBC,OAAO,SACPtB,UAAU,oBACVuB,IAAI,YAEJ,uCAAehE,EAAYH,gBAG/B,sBAAI4C,UAAU,QAAQJ,Q,GA5FN4B,aAqG9B","file":"component---src-templates-product-template-js-86c83a33d93db164ee1a.js","sourcesContent":["import React from 'react'\nimport Helmet from 'react-helmet'\nimport { getSrc } from 'gatsby-plugin-image'\n\nexport default function generateMarkdownProductJSONLD(\n  product,\n  manufacturer,\n  siteMetadata\n) {\n  return {\n    '@context': 'http://schema.org',\n    '@type': 'Product',\n    name: product.frontmatter.title,\n    image: [\n      `${siteMetadata.siteUrl}${getSrc(\n        product.frontmatter.image_primary.childImageSharp.gatsbyImageData\n      )}`,\n    ],\n    description: `${\n      unescape(product.frontmatter.description) ||\n      `${product.frontmatter.manufacturer} - ${product.frontmatter.title}` ||\n      ''\n    }`,\n    sku: `${product.id}`,\n    mpn: `${product.id}`,\n    review: {\n      '@type': 'Review',\n      reviewRating: {\n        '@type': 'Rating',\n        ratingValue: '5',\n        bestRating: '5',\n      },\n      author: {\n        '@type': 'Person',\n        name: siteMetadata.publisher,\n        url: siteMetadata.siteUrl,\n      },\n    },\n    aggregateRating: {\n      '@type': 'AggregateRating',\n      ratingValue: '5',\n      reviewCount: '1',\n    },\n    brand: {\n      '@type': 'Brand',\n      name: manufacturer.title,\n      logo: `https:${getSrc(manufacturer.logoImageDark.gatsbyImageData)}`,\n    },\n    offers: {\n      '@type': 'Offer',\n      price: '1.00',\n      priceCurrency: 'USD',\n      priceValidUntil: '2020-01-01',\n      availability: 'InStock',\n      url: `${siteMetadata.siteUrl}${product.frontmatter.slug}`,\n    },\n  }\n}\n","import React from 'react'\nimport { graphql } from 'gatsby'\nimport { GatsbyImage } from 'gatsby-plugin-image'\nimport { Helmet } from 'react-helmet'\n\nimport Layout from '../components/layout'\nimport generateMarkdownProductJSONLD from '../components/SEOProduct/generateMarkdownProductJSONLD'\nimport SEO from '../components/seo'\n\nclass ProductTemplate extends React.Component {\n  constructor(props) {\n    super(props)\n    const { markdownRemark, contentfulManufacturer, site } = props.data\n    const { frontmatter } = markdownRemark\n    const manufacturer = contentfulManufacturer\n    this.tagList = frontmatter.tags.map((tag, id) => (\n      <li className=\"tag\" key={id}>\n        {tag}\n      </li>\n    ))\n    this.jsonLD = generateMarkdownProductJSONLD(\n      markdownRemark,\n      contentfulManufacturer,\n      site.siteMetadata\n    )\n  }\n\n  render() {\n    const frontmatter = this.props.data.markdownRemark.frontmatter\n    const site = this.props.data.site\n    const manufacturer = this.props.data.contentfulManufacturer\n    const tagList = this.tagList\n    const jsonLd = this.jsonLD\n\n    return (\n      <Layout>\n        <Helmet\n          title={`${frontmatter.manufacturer} ${frontmatter.title} | ${site.siteMetadata.title}`}\n        />\n        <SEO\n          productSEO\n          pagePath={`manufacturers/${manufacturer.slug}`}\n          siteMetadata={site.siteMetadata}\n          postNode={manufacturer}\n          location={this.props.location}\n          product={frontmatter}\n        />\n        <Helmet>\n          <script type=\"application/ld+json\">{JSON.stringify(jsonLd)}</script>\n        </Helmet>\n        <div className=\"article content-section\">\n          <div className=\"section\">\n            <div className=\"container\">\n              <div className=\"content\">\n                <h1\n                  className=\"title is-size-2 is-size-4-mobile\"\n                  style={{ marginBottom: 0 }}\n                >\n                  {frontmatter.manufacturer} - {frontmatter.title}\n                </h1>\n                <h2\n                  className=\"has-text-weight-light is-size-4 is-size-5-mobile\"\n                  style={{ marginTop: 0 }}\n                >\n                  {frontmatter.subtitle}\n                  {frontmatter.designer !== 'null' && (\n                    <span> by {frontmatter.designer}</span>\n                  )}\n                </h2>\n\n                <GatsbyImage\n                  image={\n                    frontmatter.image_primary.childImageSharp.gatsbyImageData\n                  }\n                  alt={`${frontmatter.title} Image 1`}\n                />\n\n                {frontmatter.image_secondary && (\n                  <GatsbyImage\n                    image={\n                      frontmatter.image_secondary.childImageSharp\n                        .gatsbyImageData\n                    }\n                    alt={`${frontmatter.title} Image 2`}\n                  />\n                )}\n\n                {frontmatter.description !== 'null' && (\n                  <p>{unescape(unescape(frontmatter.description))}</p>\n                )}\n              </div>\n              <p className=\"control no-print\" style={{ marginBottom: '1rem' }}>\n                <a\n                  href={frontmatter.href}\n                  target=\"_blank\"\n                  className=\"button is-primary\"\n                  rel=\"noopener\"\n                >\n                  <span>View on {frontmatter.manufacturer}</span>\n                </a>\n              </p>\n              <ul className=\"tags\">{tagList}</ul>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default ProductTemplate\n\nexport const pageQuery = graphql`\n  query($slug: String!, $manufacturer: String!) {\n    markdownRemark(frontmatter: { slug: { eq: $slug } }) {\n      id\n      frontmatter {\n        slug\n        title\n        image_primary {\n          childImageSharp {\n            gatsbyImageData\n          }\n        }\n        image_secondary {\n          childImageSharp {\n            gatsbyImageData\n          }\n        }\n        description\n        tags\n        designer\n        manufacturer\n        subtitle\n        href\n      }\n    }\n    contentfulManufacturer(title: { eq: $manufacturer }) {\n      title\n      logoImageDark {\n        gatsbyImageData\n      }\n      heroImage {\n        gatsbyImageData\n      }\n      slug\n      description {\n        internal {\n          content\n        }\n      }\n    }\n    site {\n      siteMetadata {\n        publisher\n        shareImage\n        siteUrl\n        title\n        userTwitter\n      }\n    }\n  }\n`\n"],"sourceRoot":""}