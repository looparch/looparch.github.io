{"version":3,"sources":["webpack://loop-gatsby/./src/templates/ProductTemplate.js","webpack://loop-gatsby/./src/components/SEOProduct/generateMarkdownProductJSONLD.js"],"names":["props","data","markdownRemark","contentfulManufacturer","site","frontmatter","tagList","tags","map","tag","id","className","key","jsonLD","product","manufacturer","siteMetadata","name","title","image","siteUrl","getSrc","image_primary","childImageSharp","gatsbyImageData","description","unescape","sku","mpn","review","reviewRating","ratingValue","bestRating","author","publisher","url","aggregateRating","reviewCount","brand","logo","logoImageDark","offers","price","priceCurrency","priceValidUntil","availability","slug","generateMarkdownProductJSONLD","render","this","jsonLd","Layout","Helmet","Seo","productSEO","pagePath","postNode","location","type","JSON","stringify","style","marginBottom","marginTop","subtitle","designer","G","alt","image_secondary","href","target","rel","React"],"mappings":"gOA8GA,E,YApGE,WAAYA,GAAQ,IAAD,EACjB,cAAMA,IAAN,KACA,MAAyDA,EAAMC,KAAvDC,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,uBAAwBC,EAAhD,EAAgDA,KACxCC,EAAgBH,EAAhBG,YAHS,OAKjB,EAAKC,QAAUD,EAAYE,KAAKC,KAAI,SAACC,EAAKC,GAAN,OAClC,sBAAIC,UAAU,MAAMC,IAAKF,GACtBD,MAGL,EAAKI,OChBM,SACbC,EACAC,EACAC,GAEA,MAAO,CACL,WAAY,oBACZ,QAAS,UACTC,KAAMH,EAAQT,YAAYa,MAC1BC,MAAO,CAAC,GACHH,EAAaI,SAAUC,OACxBP,EAAQT,YAAYiB,cAAcC,gBAAgBC,kBAGtDC,YAAY,IACVC,SAASZ,EAAQT,YAAYoB,cAC1BX,EAAQT,YAAYU,aADvB,MACyCD,EAAQT,YAAYa,OAC7D,IAEFS,IAAI,GAAIb,EAAQJ,GAChBkB,IAAI,GAAId,EAAQJ,GAChBmB,OAAQ,CACN,QAAS,SACTC,aAAc,CACZ,QAAS,SACTC,YAAa,IACbC,WAAY,KAEdC,OAAQ,CACN,QAAS,SACThB,KAAMD,EAAakB,UACnBC,IAAKnB,EAAaI,UAGtBgB,gBAAiB,CACf,QAAS,kBACTL,YAAa,IACbM,YAAa,KAEfC,MAAO,CACL,QAAS,QACTrB,KAAMF,EAAaG,MACnBqB,KAAK,UAAUlB,OAAON,EAAayB,cAAchB,kBAEnDiB,OAAQ,CACN,QAAS,QACTC,MAAO,OACPC,cAAe,MACfC,gBAAiB,aACjBC,aAAc,UACdV,IAAI,GAAInB,EAAaI,QAAUN,EAAQT,YAAYyC,ODlCvCC,CACZ7C,EACAC,EACAC,EAAKY,cAbU,E,+BAiBnBgC,OAAA,WACE,IAAM3C,EAAc4C,KAAKjD,MAAMC,KAAKC,eAAeG,YAC7CD,EAAO6C,KAAKjD,MAAMC,KAAKG,KACvBW,EAAekC,KAAKjD,MAAMC,KAAKE,uBAC/BG,EAAU2C,KAAK3C,QACf4C,EAASD,KAAKpC,OAEpB,OACE,gBAACsC,EAAA,EAAD,KACE,gBAACC,EAAA,EAAD,CACElC,MAAUb,EAAYU,aAAjB,IAAiCV,EAAYa,MAA7C,MAAwDd,EAAKY,aAAaE,QAEjF,gBAACmC,EAAA,EAAD,CACEC,YAAU,EACVC,SAAQ,iBAAmBxC,EAAa+B,KACxC9B,aAAcZ,EAAKY,aACnBwC,SAAUzC,EACV0C,SAAUR,KAAKjD,MAAMyD,SACrB3C,QAAST,IAEX,gBAAC+C,EAAA,EAAD,KACE,0BAAQM,KAAK,uBAAuBC,KAAKC,UAAUV,KAErD,uBAAKvC,UAAU,2BACb,uBAAKA,UAAU,WACb,uBAAKA,UAAU,aACb,uBAAKA,UAAU,WACb,sBACEA,UAAU,mCACVkD,MAAO,CAAEC,aAAc,IAEtBzD,EAAYU,aAJf,MAIgCV,EAAYa,OAE5C,sBACEP,UAAU,mDACVkD,MAAO,CAAEE,UAAW,IAEnB1D,EAAY2D,SACa,SAAzB3D,EAAY4D,UACX,mCAAW5D,EAAY4D,WAI3B,gBAAC,EAAAC,EAAD,CACE/C,MACEd,EAAYiB,cAAcC,gBAAgBC,gBAE5C2C,IAAQ9D,EAAYa,MAAjB,aAGJb,EAAY+D,iBACX,gBAAC,EAAAF,EAAD,CACE/C,MACEd,EAAY+D,gBAAgB7C,gBACzBC,gBAEL2C,IAAQ9D,EAAYa,MAAjB,aAIsB,OAA5Bb,EAAYoB,aACX,yBAAIC,SAASA,SAASrB,EAAYoB,gBAGtC,qBAAGd,UAAU,UAAUkD,MAAO,CAAEC,aAAc,SAC5C,qBACEO,KAAMhE,EAAYgE,KAClBC,OAAO,SACP3D,UAAU,oBACV4D,IAAI,YAEJ,uCAAelE,EAAYU,gBAG/B,sBAAIJ,UAAU,QAAQL,Q,GA5FNkE","file":"component---src-templates-product-template-js-1bca099124e3077ab2a0.js","sourcesContent":["import React from 'react'\nimport { graphql } from 'gatsby'\nimport { GatsbyImage } from 'gatsby-plugin-image'\nimport { Helmet } from 'react-helmet'\n\nimport Layout from '../components/Layout'\nimport generateMarkdownProductJSONLD from '../components/SEOProduct/generateMarkdownProductJSONLD'\nimport Seo from '../components/Seo'\n\nclass ProductTemplate extends React.Component {\n  constructor(props) {\n    super(props)\n    const { markdownRemark, contentfulManufacturer, site } = props.data\n    const { frontmatter } = markdownRemark\n    const manufacturer = contentfulManufacturer\n    this.tagList = frontmatter.tags.map((tag, id) => (\n      <li className=\"tag\" key={id}>\n        {tag}\n      </li>\n    ))\n    this.jsonLD = generateMarkdownProductJSONLD(\n      markdownRemark,\n      contentfulManufacturer,\n      site.siteMetadata\n    )\n  }\n\n  render() {\n    const frontmatter = this.props.data.markdownRemark.frontmatter\n    const site = this.props.data.site\n    const manufacturer = this.props.data.contentfulManufacturer\n    const tagList = this.tagList\n    const jsonLd = this.jsonLD\n\n    return (\n      <Layout>\n        <Helmet\n          title={`${frontmatter.manufacturer} ${frontmatter.title} | ${site.siteMetadata.title}`}\n        />\n        <Seo\n          productSEO\n          pagePath={`manufacturers/${manufacturer.slug}`}\n          siteMetadata={site.siteMetadata}\n          postNode={manufacturer}\n          location={this.props.location}\n          product={frontmatter}\n        />\n        <Helmet>\n          <script type=\"application/ld+json\">{JSON.stringify(jsonLd)}</script>\n        </Helmet>\n        <div className=\"article content-section\">\n          <div className=\"section\">\n            <div className=\"container\">\n              <div className=\"content\">\n                <h1\n                  className=\"title is-size-2 is-size-4-mobile\"\n                  style={{ marginBottom: 0 }}\n                >\n                  {frontmatter.manufacturer} - {frontmatter.title}\n                </h1>\n                <h2\n                  className=\"has-text-weight-light is-size-4 is-size-5-mobile\"\n                  style={{ marginTop: 0 }}\n                >\n                  {frontmatter.subtitle}\n                  {frontmatter.designer !== 'null' && (\n                    <span> by {frontmatter.designer}</span>\n                  )}\n                </h2>\n\n                <GatsbyImage\n                  image={\n                    frontmatter.image_primary.childImageSharp.gatsbyImageData\n                  }\n                  alt={`${frontmatter.title} Image 1`}\n                />\n\n                {frontmatter.image_secondary && (\n                  <GatsbyImage\n                    image={\n                      frontmatter.image_secondary.childImageSharp\n                        .gatsbyImageData\n                    }\n                    alt={`${frontmatter.title} Image 2`}\n                  />\n                )}\n\n                {frontmatter.description !== null && (\n                  <p>{unescape(unescape(frontmatter.description))}</p>\n                )}\n              </div>\n              <p className=\"control\" style={{ marginBottom: '1rem' }}>\n                <a\n                  href={frontmatter.href}\n                  target=\"_blank\"\n                  className=\"button is-primary\"\n                  rel=\"noopener\"\n                >\n                  <span>View on {frontmatter.manufacturer}</span>\n                </a>\n              </p>\n              <ul className=\"tags\">{tagList}</ul>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default ProductTemplate\n\nexport const pageQuery = graphql`\n  query($slug: String!, $manufacturer: String!) {\n    markdownRemark(frontmatter: { slug: { eq: $slug } }) {\n      id\n      frontmatter {\n        slug\n        title\n        image_primary {\n          childImageSharp {\n            gatsbyImageData\n          }\n        }\n        image_secondary {\n          childImageSharp {\n            gatsbyImageData\n          }\n        }\n        description\n        tags\n        designer\n        manufacturer\n        subtitle\n        href\n      }\n    }\n    contentfulManufacturer(title: { eq: $manufacturer }) {\n      title\n      logoImageDark {\n        gatsbyImageData\n      }\n      heroImage {\n        gatsbyImageData\n      }\n      slug\n      description {\n        internal {\n          content\n        }\n      }\n    }\n    site {\n      siteMetadata {\n        publisher\n        shareImage\n        siteUrl\n        title\n        userTwitter\n      }\n    }\n  }\n`\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport { getSrc } from 'gatsby-plugin-image'\n\nexport default function generateMarkdownProductJSONLD(\n  product,\n  manufacturer,\n  siteMetadata\n) {\n  return {\n    '@context': 'http://schema.org',\n    '@type': 'Product',\n    name: product.frontmatter.title,\n    image: [\n      `${siteMetadata.siteUrl}${getSrc(\n        product.frontmatter.image_primary.childImageSharp.gatsbyImageData\n      )}`,\n    ],\n    description: `${\n      unescape(product.frontmatter.description) ||\n      `${product.frontmatter.manufacturer} - ${product.frontmatter.title}` ||\n      ''\n    }`,\n    sku: `${product.id}`,\n    mpn: `${product.id}`,\n    review: {\n      '@type': 'Review',\n      reviewRating: {\n        '@type': 'Rating',\n        ratingValue: '5',\n        bestRating: '5',\n      },\n      author: {\n        '@type': 'Person',\n        name: siteMetadata.publisher,\n        url: siteMetadata.siteUrl,\n      },\n    },\n    aggregateRating: {\n      '@type': 'AggregateRating',\n      ratingValue: '5',\n      reviewCount: '1',\n    },\n    brand: {\n      '@type': 'Brand',\n      name: manufacturer.title,\n      logo: `https:${getSrc(manufacturer.logoImageDark.gatsbyImageData)}`,\n    },\n    offers: {\n      '@type': 'Offer',\n      price: '1.00',\n      priceCurrency: 'USD',\n      priceValidUntil: '2020-01-01',\n      availability: 'InStock',\n      url: `${siteMetadata.siteUrl}${product.frontmatter.slug}`,\n    },\n  }\n}\n"],"sourceRoot":""}